<div class="col-sm-7">
    <div class="dataTables_paginate paging_simple_numbers">
        <ul class="pagination" style="margin-top: 0; float: right">
             <li class="paginate_button previous" aria-controls="editable" tabindex="0">
                     <a class="pe" href="?page=1&page_len={{ page_len }}&starttime={{starttime}}&endtime={{endtime}}&bg_module={{bg_module}}&bg_domain={{bg_domain}}&keyword={{ keyword }}">首页</a>
             </li>
            {% if page_objects.has_previous %}
                <li class="paginate_button previous" aria-controls="editable" tabindex="0" >
                    <a class="pe" href="?page={{ page_objects.previous_page_number }}&page_len={{ page_len }}&starttime={{starttime}}&endtime={{endtime}}&bg_module={{bg_module}}&bg_domain={{bg_domain}}&keyword={{ keyword }}">上一页</a>
                </li>
            {% endif %}
            {% ifequal show_first 1 %}
                <li class="paginate_button" aria-controls="editable" tabindex="0"><a class="pe" href="?page=1&page_len={{ page_len }}&starttime={{starttime}}&endtime={{endtime}}&bg_module={{bg_module}}&bg_domain={{bg_domain}}&keyword={{ keyword }}"  title="第1页">1...</a></li>
            {% endifequal %}
            {% for page in page_range %}
                {% ifequal current_page page %}
                    <li class="paginate_button active"  aria-controls="editable" tabindex="0"><a class="pe" href="?page={{ page }}&page_len={{ page_len }}&starttime={{starttime}}&endtime={{endtime}}&bg_module={{bg_module}}&bg_domain={{bg_domain}}&keyword={{ keyword }}"  title="第{{ page }}页">{{ page }}</a></li>
                {% else %}
                    <li class="paginate_button" aria-controls="editable" tabindex="0"><a class="pe" href="?page={{ page }}&page_len={{ page_len }}&starttime={{starttime}}&endtime={{endtime}}&bg_module={{bg_module}}&bg_domain={{bg_domain}}&keyword={{ keyword }}"  title="第{{ page }}页">{{ page }}</a></li>
                {% endifequal %}
            {% endfor %}
            {% ifequal show_end 1 %}
                <li class="paginate_button" aria-controls="editable" tabindex="0"><a class="pe" href="?page={{ p.num_pages }}&page_len={{ page_len }}&starttime={{starttime}}&endtime={{endtime}}&bg_module={{bg_module}}&bg_domain={{bg_domain}}&keyword={{ keyword }}"  title="第{{ page }}页">...{{ p.num_pages }}</a></li>
            {% endifequal %}
            {% if page_objects.has_next %}
                <li class="paginate_button next " aria-controls="editable" tabindex="0">
                    <a class="pe" href="?page={{ page_objects.next_page_number }}&page_len={{ page_len }}&starttime={{starttime}}&endtime={{endtime}}&bg_module={{bg_module}}&bg_domain={{bg_domain}}&keyword={{ keyword }}">下一页</a>
                </li>
            {% endif %}
                <li class="paginate_button next" aria-controls="editable" tabindex="0">
                    <a class="pe" href="?page={{ end_page }}&page_len={{ page_len }}&starttime={{starttime}}&endtime={{endtime}}&bg_module={{bg_module}}&bg_domain={{bg_domain}}&keyword={{ keyword }}">尾页</a>
                </li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

        </ul>

    </div>
</div>
<script>



    function sleep(n) { //n表示的毫秒数
            var start = new Date().getTime();
            while (true) if (new Date().getTime() - start > n) break;
        }

    $(document).ready(function(){
        $('.page').click(function(){

            var old_href = location.search.substring(1);//page=7&page_len=2&starttime=&endtime=&keyword=
            alert(111111111111);
            alert(old_href);
            alert(222222222222);
            var searchStr = $(this).attr('href').replace('?', '');
            alert(searchStr);//page=1&page_len=2
            var searchArray = searchStr.split('&');

            if (searchStr == ''){
                searchStr = '?page=1&page_len={{ page_len }}'
            }

            if (searchStr.indexOf('page')>=0){
                searchStr.pop();
            }

            if(document.getElementById('search_input')!=null)
            searchArray.push(old_href);
            if (searchArray.length > 1) {
                $(this).attr('href', searchArray.join('&'));
                alert($(this).attr('href'));
            }

{#            sleep(1000)#}
        })
    });


</script>
